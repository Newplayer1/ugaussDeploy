(this.webpackJsonpugauss=this.webpackJsonpugauss||[]).push([[4],{104:function(e,t,n){},108:function(e,t){},110:function(e,t){},125:function(e,t){},127:function(e,t){},153:function(e,t){},154:function(e,t){},156:function(e,t){},158:function(e,t){},192:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(30),s=n.n(o),c=n(47),i=n(4),u=(n(104),n(50));n(83).config(),n(49).defaults.baseURL="https://ugauss.herokuapp.com/api";var p=a.a.createElement("div",{className:"pt-3 text-center"},a.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"})),l=a.a.lazy((function(){return Promise.all([n.e(8),n.e(13)]).then(n.bind(null,420))})),b=a.a.memo((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,null,a.a.createElement(a.a.Suspense,{fallback:p},a.a.createElement(i.d,null,a.a.createElement(i.b,{path:"/",name:"Home",render:function(e){return a.a.createElement(l,e)}})))),a.a.createElement(u.a,null))})),g=n(31),f=n(24);n(83).config(),f.a.dispatch(f.b),s.a.render(a.a.createElement(g.a,{store:f.a},a.a.createElement(b,null)),document.getElementById("root"))},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(13),a=n.n(r),o=n(1),s=n(97),c=n(23),i=n(22),u=n(95),p=n(96),l=n(98).getObjects,b=Object(p.composeWithDevTools)(Object(i.applyMiddleware)(u.a)),g={sidebarShow:"responsive",devices:[],editMode:null,isLog:!1};function f(e,t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("/device");case 2:(r=e.sent)?(t({type:"device/getDevices",devices:r.data}),t({type:"login/isLog",isLog:!0})):t({type:"login/isLog",isLog:!1});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(s.a)(t,["type"]);switch(n){case"setNavbar":case"editMode":case"device/getDevices":case"login/isLog":case"[Readings] message":case"[Charge_Profile] message":case"[Source_Profile] message":case"[p_load] message":case"[p_solar_panel] message":case"[battery_SoC] message":case"[p_mppt] message":case"[p_battery] message":case"[p_inv] message":case"[p_charger] message":return Object(o.a)(Object(o.a)({},e),r);default:return e}}),b);t.a=m},50:function(e,t,n){"use strict";var r=n(34),a=n(0),o=n.n(a),s=n(93),c=n.n(s),i=n(31),u={port:38909,keepalive:30,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4,username:"dhvvrehu",password:"10T74SxY2TX2",will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1,clientId:"mqttjs_webClient"};t.a=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1],p=Object(a.useState)({}),l=Object(r.a)(p,2),b=(l[0],l[1],Object(a.useState)("Connect")),g=Object(r.a)(b,2),f=(g[0],g[1],Object(i.b)());Object(a.useEffect)((function(){s(c.a.connect("wss://driver.cloudmqtt.com",u))}),[]),Object(a.useEffect)((function(){d()}),[n]);var d=function(){if(n){var e="Readings";n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="Source_Profile",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="Charge_Profile",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="p_load",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="p_solar_panel",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="battery_SoC",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="p_mppt",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="p_battery",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="p_inv",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)})),e="p_charger",n.subscribe(e,{qos:0},(function(e){e&&console.log("Subscribe to topics error",e)}))}};return Object(a.useEffect)((function(){n&&n.on("message",(function(e,t){switch(e){case"Charge_Profile":f({type:"[Charge_Profile] message",charge_Profiles:JSON.parse(t.toString())});break;case"Readings":f({type:"[Readings] message",readings:JSON.parse(t.toString())});break;case"Source_Profile":f({type:"[Source_Profile] message",source_Profiles:JSON.parse(t.toString())});break;case"p_load":f({type:"[p_load] message",p_load:t.toString()});break;case"p_solar_panel":f({type:"[p_solar_panel] message",p_solar_panel:t.toString()});break;case"battery_SoC":f({type:"[battery_SoC] message",battery_SoC:t.toString()});break;case"p_mppt":f({type:"[p_mppt] message",p_mppt:t.toString()});break;case"p_battery":f({type:"[p_battery] message",p_battery:t.toString()});break;case"p_inv":f({type:"[p_inv] message",p_inv:t.toString()});break;case"p_charger":f({type:"[p_charger] message",p_charger:t.toString()})}}))}),[n]),o.a.createElement(o.a.Fragment,null)}},98:function(e,t,n){"use strict";n.r(t),n.d(t,"getObjects",(function(){return u})),n.d(t,"addObject",(function(){return l})),n.d(t,"editObject",(function(){return g}));var r=n(13),a=n.n(r),o=n(23),s=n(35),c=n.n(s),i=n(49);function u(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.request({url:t,method:"get",headers:{Authorization:"Bearer ".concat(c.a.get("jwt"))}}).then((function(e,t){if(!t)return e})).catch((function(e){console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({url:t,method:"post",data:n,headers:{Authorization:"Bearer ".concat(c.a.get("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({url:t,method:"put",data:n,headers:{Authorization:"Bearer ".concat(c.a.get("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},99:function(e,t,n){e.exports=n(192)}},[[99,5,6]]]);
//# sourceMappingURL=main.31dad3d2.chunk.js.map