(this.webpackJsonpugauss=this.webpackJsonpugauss||[]).push([[4],{102:function(e,t,n){"use strict";n.r(t),n.d(t,"getObjects",(function(){return u})),n.d(t,"addObject",(function(){return f})),n.d(t,"editObject",(function(){return d}));var o=n(13),r=n.n(o),c=n(26),a=n(25),s=n.n(a),i=n(37);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.request({url:t,method:"get",headers:{Authorization:"Bearer ".concat(s.a.get("jwt"))}}).then((function(e,t){if(!t)return e})).catch((function(e){console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({url:t,method:"post",data:n,headers:{Authorization:"Bearer ".concat(s.a.get("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({url:t,method:"put",data:n,headers:{Authorization:"Bearer ".concat(s.a.get("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},103:function(e,t,n){var o=n(37);t.login=function(e){return o.post("/user/login",e).then((function(e){return e})).catch((function(e){console.log(e)}))},t.verify=function(e,t){o.request({url:"/user/verify",method:"post",headers:{Authorization:"Bearer ".concat(e)},data:{check:t}}).then((function(e){})).catch((function(e){console.log(e)}))}},104:function(e,t,n){e.exports=n(196)},113:function(e,t,n){},135:function(e,t){},137:function(e,t){},15:function(e,t,n){"use strict";n.d(t,"b",(function(){return g}));var o=n(13),r=n.n(o),c=n(6),a=n(100),s=n(26),i=n(24),u=n(97),l=n(98),f=n(102).getObjects,p=Object(l.composeWithDevTools)(Object(i.applyMiddleware)(u.a)),d={sidebarShow:"responsive",devices:[],editMode:null,isLog:!1};function g(e,t){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(r.a.mark((function e(t,n){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/device");case 2:(o=e.sent)?(console.log(o),t({type:"device/getDevices",devices:o.data}),t({type:"login/isLog",isLog:!0})):t({type:"login/isLog",isLog:!1});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=Object(a.a)(t,["type"]);switch(n){case"setNavbar":case"editMode":case"device/getDevices":case"login/isLog":case"[Readings] message":case"[Charge_Profile] message":case"[Source_Profile] message":return Object(c.a)(Object(c.a)({},e),o);default:return e}}),p);t.a=h},152:function(e,t){},154:function(e,t){},179:function(e,t){},180:function(e,t){},182:function(e,t){},184:function(e,t){},196:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(32),a=n.n(c),s=n(49),i=n(3),u=n(16),l=(n(25),n(113),n(15)),f=n(61);n(94).config(),n(37).defaults.baseURL="http://localhost:3001/api";var p=r.a.createElement("div",{className:"pt-3 text-center"},r.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"})),d=n(103),g=(d.login,d.verify,r.a.lazy((function(){return Promise.all([n.e(2),n.e(17)]).then(n.bind(null,574))}))),b=(window.location.protocol,r.a.lazy((function(){return Promise.all([n.e(2),n.e(18)]).then(n.bind(null,356))})),r.a.memo((function(){Object(u.c)((function(e){return e.isLog})),Object(u.b)();return r.a.createElement(s.a,null,r.a.createElement(r.a.Suspense,{fallback:p},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",name:"Home",render:function(e){return r.a.createElement(g,e)}}),r.a.createElement(f.a,null))))})));n(94).config(),l.a.dispatch(l.b),a.a.render(r.a.createElement(u.a,{store:l.a},r.a.createElement(b,null)),document.getElementById("root"))},61:function(e,t,n){"use strict";var o=n(34),r=n(0),c=n.n(r),a=n(99),s=n.n(a),i=n(16),u={port:38909,keepalive:30,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4,username:"dhvvrehu",password:"10T74SxY2TX2",will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1,clientId:"mqttjs_webClient"};t.a=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)({}),f=Object(o.a)(l,2),p=(f[0],f[1],Object(r.useState)("Connect")),d=Object(o.a)(p,2),g=(d[0],d[1],Object(i.b)());Object(r.useEffect)((function(){a(s.a.connect("wss://driver.cloudmqtt.com",u))}),[]),Object(r.useEffect)((function(){b()}),[n]);var b=function(){if(console.log(n),n){var e="Readings";n.subscribe(e,{qos:0},(function(e){e?console.log("Subscribe to topics error",e):console.log("object")})),e="Source_Profile",n.subscribe(e,{qos:0},(function(e){e?console.log("Subscribe to topics error",e):console.log("object")})),e="Charge_Profile",n.subscribe(e,{qos:0},(function(e){e?console.log("Subscribe to topics error",e):console.log("object")}))}};return Object(r.useEffect)((function(){n&&n.on("message",(function(e,t){switch(e){case"Charge_Profile":g({type:"[Charge_Profile] message",charge_Profiles:JSON.parse(t.toString())});break;case"Readings":g({type:"[Readings] message",readings:JSON.parse(t.toString())});break;case"Source_Profile":g({type:"[Source_Profile] message",source_Profiles:JSON.parse(t.toString())})}}))}),[n]),c.a.createElement(c.a.Fragment,null)}}},[[104,5,6]]]);
//# sourceMappingURL=main.52ad046b.chunk.js.map