{"version":3,"sources":["endpoint/users.js","endpoint/object.js","App.js","store/store.js","index.js"],"names":["axios","require","exports","login","info","post","then","response","catch","error","console","log","verify","cookie","check","request","url","method","headers","Authorization","data","getObjects","nameFct","a","err","res","addObject","config","defaults","baseURL","loading","className","TheLayout","React","lazy","Login","window","location","protocol","memo","isLog","useSelector","state","dispatch","useDispatch","Suspense","fallback","path","name","render","props","onLogin","username","password","result","cookies","set","type","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","initialState","sidebarShow","devices","getState","get","store","createStore","rest","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6d2070f3.chunk.js","sourcesContent":["const axios = require(\"axios\");\r\n\r\nexports.login = (info) => {\r\n  return axios\r\n    .post(\"/user/login\", info)\r\n    .then((response) => {\r\n      return response;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\nexports.verify = (cookie, check) => {\r\n  axios\r\n    .request({\r\n      url: \"/user/verify\",\r\n      method: \"post\",\r\n      headers: { Authorization: `Bearer ${cookie}` },\r\n      data: { check },\r\n    })\r\n    .then((response) => {})\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n","const axios = require(\"axios\");\r\n\r\nexport async function getObjects(nameFct, cookie) {\r\n  let res = await axios\r\n    .request({\r\n      url: nameFct,\r\n      method: \"get\",\r\n      headers: { Authorization: `Bearer ${cookie}` },\r\n    })\r\n    .then((response, err) => {\r\n      if (!err) {\r\n        return response;\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  return res;\r\n}\r\n\r\nexport async function addObject(nameFct, info) {\r\n  axios\r\n    .post(nameFct, info)\r\n    .then(response => {\r\n      console.log(response);\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n}\r\n","import React from \"react\";\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport cookies from \"js-cookie\";\r\nimport \"./scss/style.scss\";\r\nrequire(\"dotenv\").config();\r\nconst axios = require(\"axios\");\r\naxios.defaults.baseURL = \"https://ugauss.herokuapp.com/api\"; //\"http://localhost:3001/api\"; //\r\n\r\nconst loading = (\r\n  <div className=\"pt-3 text-center\">\r\n    <div className=\"sk-spinner sk-spinner-pulse\"></div>\r\n  </div>\r\n);\r\nconst { login, verify } = require(\"./endpoint/users\");\r\n\r\n// Containers\r\nconst TheLayout = React.lazy(() => import(\"./containers/TheLayout\"));\r\n\r\nconst secure = window.location.protocol === \"https\";\r\n\r\n// Pages\r\nconst Login = React.lazy(() => import(\"./views/pages/login/Login\"));\r\n\r\nconst App = () => {\r\n  const isLog = useSelector(state => state.isLog);\r\n  const dispatch = useDispatch();\r\n\r\n  const onLogin = (username, password) => {\r\n    login({ username, password }).then(result => {\r\n      if (result) {\r\n        cookies.set(\"jwt\", result.data);\r\n        dispatch({ type: \"login/isLog\", isLog: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <HashRouter>\r\n      <React.Suspense fallback={loading}>\r\n        <Switch>\r\n          {!isLog ? (\r\n            <Route\r\n              path=\"/\"\r\n              name=\"login\"\r\n              render={props => (\r\n                <Login\r\n                  {...props}\r\n                  onLogin={(username, password) => onLogin(username, password)}\r\n                />\r\n              )}\r\n            />\r\n          ) : (\r\n            <Route\r\n              path=\"/\"\r\n              name=\"Home\"\r\n              render={props => <TheLayout {...props} />}\r\n            />\r\n          )}\r\n        </Switch>\r\n      </React.Suspense>\r\n    </HashRouter>\r\n  );\r\n};\r\nexport default React.memo(App);\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport cookies from \"js-cookie\";\r\nconst { getObjects } = require(\"../endpoint/object\");\r\n\r\nconst composedEnhancer = composeWithDevTools(applyMiddleware(thunkMiddleware));\r\n\r\nconst initialState = {\r\n  sidebarShow: \"responsive\",\r\n  devices: [],\r\n  isLog: false,\r\n};\r\n\r\nexport async function getDevices(dispatch, getState) {\r\n  const response = await getObjects(\"/device\", cookies.get(\"jwt\"));\r\n  if (response) {\r\n    dispatch({ type: \"device/getDevices\", devices: response });\r\n    dispatch({ type: \"login/isLog\", isLog: true });\r\n  } else {\r\n    dispatch({ type: \"login/isLog\", isLog: false });\r\n  }\r\n}\r\n\r\nconst changeState = (state = initialState, { type, ...rest }) => {\r\n  switch (type) {\r\n    case \"setNavbar\":\r\n      return { ...state, ...rest };\r\n    case \"device/getDevices\":\r\n      return { ...state, ...rest };\r\n    case \"login/isLog\":\r\n      return { ...state, ...rest };\r\n    case \"[Readings] message\":\r\n      return { ...state, ...rest };\r\n    case \"[Charge_Profile] message\":\r\n      return { ...state, ...rest };\r\n    case \"[Source_Profile] message\":\r\n      return { ...state, ...rest };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst store = createStore(changeState, composedEnhancer);\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/store\";\r\n\r\nimport { getDevices } from \"./store/store\";\r\nrequire(\"dotenv\").config();\r\n\r\nstore.dispatch(getDevices); //getObjects(\"device\");\r\n/*store.dispatch(); //getObjects(\"units\");\r\nstore.dispatch(); //getObjects(\"readings\");\r\nstore.dispatch(); //getObjects(\"settings\");*/\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}