(this.webpackJsonpugauss=this.webpackJsonpugauss||[]).push([[4],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"getObjects",(function(){return u})),n.d(t,"addObject",(function(){return f})),n.d(t,"editObject",(function(){return g}));var o=n(13),r=n.n(o),c=n(25),a=n(24),s=n.n(a),i=n(36);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.request({url:t,method:"get",headers:{Authorization:"Bearer ".concat(s.a.get("jwt"))}}).then((function(e,t){if(!t)return e})).catch((function(e){console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({url:t,method:"post",data:n,headers:{Authorization:"Bearer ".concat(s.a.get("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({url:t,method:"put",data:n,headers:{Authorization:"Bearer ".concat(s.a.get("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},102:function(e,t,n){e.exports=n(195)},111:function(e,t,n){},133:function(e,t){},135:function(e,t){},150:function(e,t){},152:function(e,t){},177:function(e,t){},178:function(e,t){},180:function(e,t){},182:function(e,t){},193:function(e,t,n){var o=n(36);t.login=function(e){return o.post("/user/login",e).then((function(e){return e})).catch((function(e){console.log(e)}))},t.verify=function(e,t){o.request({url:"/user/verify",method:"post",headers:{Authorization:"Bearer ".concat(e)},data:{check:t}}).then((function(e){})).catch((function(e){console.log(e)}))}},195:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(31),a=n.n(c),s=n(48),i=n(3),u=n(15),l=n(24),f=n.n(l),p=(n(111),n(13)),g=n.n(p),d=n(6),b=n(99),h=n(25),m=n(23),v=n(96),j=n(97),O=n(101).getObjects,y=Object(j.composeWithDevTools)(Object(m.applyMiddleware)(v.a)),w={sidebarShow:"responsive",devices:[],editMode:null,isLog:!1};function S(e,t){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(g.a.mark((function e(t,n){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/device");case 2:(o=e.sent)?(console.log(o),t({type:"device/getDevices",devices:o.data}),t({type:"login/isLog",isLog:!0})):t({type:"login/isLog",isLog:!1});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=Object(m.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=Object(b.a)(t,["type"]);switch(n){case"setNavbar":case"editMode":case"device/getDevices":case"login/isLog":case"[Readings] message":case"[Charge_Profile] message":case"[Source_Profile] message":return Object(d.a)(Object(d.a)({},e),o);default:return e}}),y),P=n(60);n(93).config(),n(36).defaults.baseURL="https://ugauss.herokuapp.com/api";var L=r.a.createElement("div",{className:"pt-3 text-center"},r.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"})),_=n(193),x=_.login,q=(_.verify,r.a.lazy((function(){return Promise.all([n.e(2),n.e(17)]).then(n.bind(null,573))}))),C=(window.location.protocol,r.a.lazy((function(){return Promise.all([n.e(2),n.e(18)]).then(n.bind(null,555))}))),z=r.a.memo((function(){var e=Object(u.c)((function(e){return e.isLog})),t=Object(u.b)();return r.a.createElement(s.a,null,r.a.createElement(r.a.Suspense,{fallback:L},r.a.createElement(i.d,null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{path:"/",name:"Home",render:function(e){return r.a.createElement(q,e)}}),r.a.createElement(P.a,null)):r.a.createElement(i.b,{path:"/",name:"login",render:function(e){return r.a.createElement(C,Object.assign({},e,{onLogin:function(e,n){return function(e,n){x({username:e,password:n}).then((function(e){e&&(f.a.set("jwt",e.data),t({type:"login/isLog",isLog:!0}),k.dispatch(S))}))}(e,n)}}))}}))))}));n(93).config(),k.dispatch(S),a.a.render(r.a.createElement(u.a,{store:k},r.a.createElement(z,null)),document.getElementById("root"))},60:function(e,t,n){"use strict";var o=n(33),r=n(0),c=n.n(r),a=n(98),s=n.n(a),i=n(15),u={port:38909,keepalive:30,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4,username:"dhvvrehu",password:"10T74SxY2TX2",will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1,clientId:"mqttjs_webClient"};t.a=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)({}),f=Object(o.a)(l,2),p=(f[0],f[1],Object(r.useState)("Connect")),g=Object(o.a)(p,2),d=(g[0],g[1],Object(i.b)());Object(r.useEffect)((function(){a(s.a.connect("wss://driver.cloudmqtt.com",u))}),[]),Object(r.useEffect)((function(){b()}),[n]);var b=function(){if(console.log(n),n){var e="Readings";n.subscribe(e,{qos:0},(function(e){e?console.log("Subscribe to topics error",e):console.log("object")})),e="Source_Profile",n.subscribe(e,{qos:0},(function(e){e?console.log("Subscribe to topics error",e):console.log("object")})),e="Charge_Profile",n.subscribe(e,{qos:0},(function(e){e?console.log("Subscribe to topics error",e):console.log("object")}))}};return Object(r.useEffect)((function(){n&&n.on("message",(function(e,t){switch(e){case"Charge_Profile":d({type:"[Charge_Profile] message",charge_Profiles:JSON.parse(t.toString())});break;case"Readings":d({type:"[Readings] message",readings:JSON.parse(t.toString())});break;case"Source_Profile":d({type:"[Source_Profile] message",source_Profiles:JSON.parse(t.toString())})}}))}),[n]),c.a.createElement(c.a.Fragment,null)}}},[[102,5,6]]]);
//# sourceMappingURL=main.6e646d41.chunk.js.map